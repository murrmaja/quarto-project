<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Vorname Nachname - MARKTFORSCHUNG UND MARKETINGENTSCHEIDUNGEN - SoSe 2023</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">About me/Biography</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Einführung.html">
 <span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./fun.html">
 <span class="menu-text">Fun</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./boring.html">
 <span class="menu-text">Boring</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#übung-1-r-einführung" id="toc-übung-1-r-einführung" class="nav-link active" data-scroll-target="#übung-1-r-einführung">Übung 1: R-Einführung</a>
  <ul class="collapse">
  <li><a href="#aufbau" id="toc-aufbau" class="nav-link" data-scroll-target="#aufbau">Aufbau</a></li>
  <li><a href="#hausaufgaben" id="toc-hausaufgaben" class="nav-link" data-scroll-target="#hausaufgaben">Hausaufgaben</a></li>
  <li><a href="#einführung" id="toc-einführung" class="nav-link" data-scroll-target="#einführung">1 Einführung</a>
  <ul class="collapse">
  <li><a href="#was-ist-r" id="toc-was-ist-r" class="nav-link" data-scroll-target="#was-ist-r">1.1 Was ist R?</a></li>
  <li><a href="#warum-r" id="toc-warum-r" class="nav-link" data-scroll-target="#warum-r">Warum R?</a></li>
  </ul></li>
  <li><a href="#erste-schritte" id="toc-erste-schritte" class="nav-link" data-scroll-target="#erste-schritte">2 Erste Schritte</a>
  <ul class="collapse">
  <li><a href="#r-installieren" id="toc-r-installieren" class="nav-link" data-scroll-target="#r-installieren">2.1 R installieren</a></li>
  <li><a href="#rstudio-desktop-installieren" id="toc-rstudio-desktop-installieren" class="nav-link" data-scroll-target="#rstudio-desktop-installieren">2.2 RStudio Desktop installieren</a></li>
  <li><a href="#rstudio-oberfläche" id="toc-rstudio-oberfläche" class="nav-link" data-scroll-target="#rstudio-oberfläche">2.3 RStudio Oberfläche</a></li>
  <li><a href="#arbeitsverzeichnis" id="toc-arbeitsverzeichnis" class="nav-link" data-scroll-target="#arbeitsverzeichnis">2.4 Arbeitsverzeichnis</a></li>
  <li><a href="#pakete" id="toc-pakete" class="nav-link" data-scroll-target="#pakete">2.5 Pakete</a></li>
  </ul></li>
  <li><a href="#erste-beispiele" id="toc-erste-beispiele" class="nav-link" data-scroll-target="#erste-beispiele">3 Erste Beispiele</a>
  <ul class="collapse">
  <li><a href="#r-als-taschenrechner-in-der-konsole" id="toc-r-als-taschenrechner-in-der-konsole" class="nav-link" data-scroll-target="#r-als-taschenrechner-in-der-konsole">3.1 R als Taschenrechner (in der Konsole)</a></li>
  <li><a href="#workspaceenvironment" id="toc-workspaceenvironment" class="nav-link" data-scroll-target="#workspaceenvironment">3.2 Workspace/Environment</a></li>
  <li><a href="#skalare-vektoren-und-matrizen" id="toc-skalare-vektoren-und-matrizen" class="nav-link" data-scroll-target="#skalare-vektoren-und-matrizen">3.3 Skalare, Vektoren und Matrizen</a></li>
  <li><a href="#funktionen" id="toc-funktionen" class="nav-link" data-scroll-target="#funktionen">3.4 Funktionen</a></li>
  <li><a href="#weitere-funktionen" id="toc-weitere-funktionen" class="nav-link" data-scroll-target="#weitere-funktionen">Weitere Funktionen</a></li>
  <li><a href="#plots" id="toc-plots" class="nav-link" data-scroll-target="#plots">3.5 Plots</a></li>
  </ul></li>
  <li><a href="#hilfe-und-dokumentation" id="toc-hilfe-und-dokumentation" class="nav-link" data-scroll-target="#hilfe-und-dokumentation">4 Hilfe und Dokumentation</a></li>
  <li><a href="#r-skripte" id="toc-r-skripte" class="nav-link" data-scroll-target="#r-skripte">5 R-Skripte</a></li>
  <li><a href="#datenstrukturen" id="toc-datenstrukturen" class="nav-link" data-scroll-target="#datenstrukturen">6 Datenstrukturen</a>
  <ul class="collapse">
  <li><a href="#vektoren" id="toc-vektoren" class="nav-link" data-scroll-target="#vektoren">6.1 Vektoren</a></li>
  <li><a href="#matrizen" id="toc-matrizen" class="nav-link" data-scroll-target="#matrizen">6.2 Matrizen</a></li>
  <li><a href="#data-frames" id="toc-data-frames" class="nav-link" data-scroll-target="#data-frames">6.3 Data frames</a></li>
  <li><a href="#listen" id="toc-listen" class="nav-link" data-scroll-target="#listen">6.4 Listen</a></li>
  </ul></li>
  <li><a href="#daten-laden-und-speichern" id="toc-daten-laden-und-speichern" class="nav-link" data-scroll-target="#daten-laden-und-speichern">7 Daten laden und speichern</a></li>
  <li><a href="#nas" id="toc-nas" class="nav-link" data-scroll-target="#nas">8 NAs</a></li>
  <li><a href="#klassen" id="toc-klassen" class="nav-link" data-scroll-target="#klassen">9 Klassen</a></li>
  <li><a href="#r-programmierung" id="toc-r-programmierung" class="nav-link" data-scroll-target="#r-programmierung">10 R-Programmierung</a>
  <ul class="collapse">
  <li><a href="#for-schleife" id="toc-for-schleife" class="nav-link" data-scroll-target="#for-schleife">10.2 for-Schleife</a></li>
  <li><a href="#eigene-funktionen" id="toc-eigene-funktionen" class="nav-link" data-scroll-target="#eigene-funktionen">10.3 Eigene Funktionen</a></li>
  <li><a href="#geschafft" id="toc-geschafft" class="nav-link" data-scroll-target="#geschafft">Geschafft! :)</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">MARKTFORSCHUNG UND MARKETINGENTSCHEIDUNGEN - SoSe 2023</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><strong>Hinweis zur Nutzung und Weitergabe</strong> <br> Die Datei wird Ihnen zur Nutzung im Rahmen dieser Veranstaltung bereitgestellt. Die Weitergabe der Datei an Dritte sowie deren Veröffentlichung, Vervielfältigung oder sonstige Verbreitung ist nicht gestattet.</p>
<section id="übung-1-r-einführung" class="level1">
<h1>Übung 1: R-Einführung</h1>
<p>Guten Tag, liebe Studierende. Im Rahmen dieses Kurses werden wir versuchen, mit Hilfe statistischer Methoden und der Programmiersprache R, eine Antwort auf konkrete Marktforschungsfragen zu finden und daraus Marketingentscheidungen abzuleiten. <strong>Die erste Übung wird eine Einführung in R sein.</strong> Lassen Sie uns jetzt mit der ersten Übung beginnen.</p>
<section id="aufbau" class="level3">
<h3 class="anchored" data-anchor-id="aufbau">Aufbau</h3>
<p>Der Inhalt der Übung ist wie folgt aufgebaut: Am Anfang sollen die Fragen <em>“Was ist R?”</em> und <em>“Wozu ist R nützlich?”</em> geklärt werden. Anschließend werden die Schritte zum <strong>Installieren von R sowie RStudio</strong> genauer beschrieben. Weiterhin schauen wir uns dann die <strong>Benutzeroberfläche von RStudio</strong> an. Sobald diese Schritte abgeschloßen sind, werden wir uns bereits im Rahmen dieser ersten Übung auch mit Beispielen in R beschäftigen. Dafür werden wir bestimmte Codes in R eingeben und uns den Output anschauen.</p>
</section>
<section id="hausaufgaben" class="level3">
<h3 class="anchored" data-anchor-id="hausaufgaben">Hausaufgaben</h3>
<p>Am Ende dieser Übung sowie am Ende jeder weiteren Übung wird es eine <strong>Hausaufgabe</strong> geben. Mit dieser Hausaufgabe möchte ich Ihnen die Möglichkeit geben, das Erlernte noch mal zu wiederholen. Die Lösungen für die Hausaufgaben werden online bereit gestellt, allerdings etwas zeitversetzt, damit Sie die Möglichkeit haben, sich auch selbstständig mit den Aufgaben auseinanderzusetzen.</p>
</section>
<section id="einführung" class="level2">
<h2 class="anchored" data-anchor-id="einführung">1 Einführung</h2>
<section id="was-ist-r" class="level3">
<h3 class="anchored" data-anchor-id="was-ist-r">1.1 Was ist R?</h3>
<p><a href="https://quarto.org/docs/reference/formats/html.html#links" title="Definition of R">Wikipedia</a>: <em>“R ist eine freie Programmiersprache für statistisches Rechnen und statistische Grafiken. Sie wurde von Statistikern für Anwender mit statistischen Aufgaben entwickelt. […] R gilt zunehmend als die Standardsprache für statistische Problemstellungen sowohl in der Wirtschaft als auch in der Wissenschaft.”</em></p>
<p><span style="color: DodgerBlue;">Was können Sie aus dieser Definition mitnehmen?</span> <br> In R(Studio) befinden wir uns in einer Umgebung, in der statistische Datenverarbeitung durchgeführt werden kann. Das ist insofern relevant, als dass Ihnen heutzutage sowohl in der Wirtschaft als auch in vielen anderen Bereichen zunehmend große Datenmengen zur Verfügung stehen. Im Umgang mit diesen großen Datenmengen ist das Ziel oft, diese zu Nutzen zu machen, indem wir zum Beispiel diese Daten analysieren, auswerten oder visualisieren. <br> Ein sehr verbreitetes sogenanntes <strong>Statistikwerkzeug</strong>, das uns befähigt diese Analysen durchzuführen, ist R. R bietet Ihnen eine Vielzahl von Möglichkeiten, wie Sie Ihre Daten organisieren, transformieren, auswerten oder mit Hilfe von Grafiken anschaulich darstellen können.</p>
<p>Das Ziel dieser Marketingveranstaltung ist es, Ihnen nahezubringen, wie man mit verschiedenen statistischen Verfahren auf konkrete Marktforschungsfragen antworten kann - Dabei soll R Ihnen als Werkzeug helfen, um statistische Analysen durchzuführen, Antworten zu finden und dementsprechend geeignete Marketingentscheidungen treffen zu können.</p>
</section>
<section id="warum-r" class="level3">
<h3 class="anchored" data-anchor-id="warum-r">Warum R?</h3>
<ul>
<li>R ist frei zugänglich: Kostenlose Installation</li>
<li>R ist Open Source</li>
<li>Anwendung über den Rahmen dieses Kurses hinaus (z.B. Seminar- und Bachelorarbeiten)</li>
<li>Hohe Relevanz im akademischen <strong>und</strong> wirtschaftlichen (Arbeitsmarkt) Bereich</li>
<li>R ist eine Cross-Plattform: Benutzung ist unabhängig vom Betriebssystem<br>
</li>
<li>R kann von SPSS und SAS angesteuert werden</li>
<li>R ist weltweit verbreitet und wird von vielen Menschen genutzt, die unabhängig voneinander an R arbeiten und versuchen, es kontinuierlich besser zu machen (durch z.B. die Entwicklung von sogenannten Zusatzfunktion oder <code>packages</code>: ca. 17.500)</li>
<li>Große Online-Community: Bietet Hilfe bei z.B. Fehlermeldungen, Coding-Problemen und allem, was sonst bei der Nutzung zu Schwierigkeiten führen kann…</li>
</ul>
<p>Das sind alles gute Gründe für die Nutzung von R. Allerdings gibt es sicherlich noch viele weitere Gründe, weshalb R relevant ist oder weshalb Sie sich mit R auseinandersetzen sollten. <br> Auf den ersten Eindruck mag der Umgang etwas schwierig, anspruchsvoll oder umständlich erscheinen; Sie werden aber schnell sehen, dass das gar nicht der Fall ist! Alle Codes, die wir hier im Rahmen der Übung durchgehen, werden Ihnen online zur Verfügung gestellt. Das heißt, Sie können anschließend zu Hause diese Codes durchgehen und in Ruhe nachvollziehen.</p>
<p><strong>Daher mein Tipp:</strong> Nutzen Sie die Chance, sich im Rahmen dieser Veranstaltung mit R auseinandersetzen zu können und zu erlernen. Wie bereits erwähnt, ist R ein sehr beliebtes Programm, welches Ihnen in Zukunft - sei es für Ihr Studium oder Ihre Karriere - bestimmt einen Mehrwert bieten kann.</p>
</section>
</section>
<section id="erste-schritte" class="level2">
<h2 class="anchored" data-anchor-id="erste-schritte">2 Erste Schritte</h2>
<p>Im Folgenden wird erklärt, wie Sie R sowie die dazugehörige IDE installieren können. Zusätzlich werden die wichtigsten ersten Schritte beim Arbeiten mit R beschrieben.</p>
<section id="r-installieren" class="level3">
<h3 class="anchored" data-anchor-id="r-installieren">2.1 R installieren</h3>
<ol type="1">
<li>Gehen Sie zur Homepage: <a href="https://www.r-project.org" class="uri">https://www.r-project.org</a></li>
<li>Wählen Sie <strong>CRAN</strong> auf der linken Seite oder <strong>download R</strong></li>
<li>Wählen Sie einen <strong>CRAN Mirror</strong> aus (z.B. Germany: University of Münster, Germany)</li>
<li>Wählen Sie die Version aus, die zu Ihrem Betriebssystem passt (z.B. Windows, MacOs)</li>
<li>Klicken Sie auf <strong>base</strong></li>
<li>Wählen Sie <strong>download 4.2.0</strong> (oder eine entsprechend neuere Version)</li>
<li>Klicken Sie auf die heruntergeladene Datei (bspw. R-4.2.0-win.exe) und folgen Sie den Anweisungen (Ändern Sie Voreinstellungen nur dann, wenn Sie wissen, was Sie tun!)</li>
<li><strong>Glückwunsch, Sie haben R installiert!</strong></li>
</ol>
</section>
<section id="rstudio-desktop-installieren" class="level3">
<h3 class="anchored" data-anchor-id="rstudio-desktop-installieren">2.2 RStudio Desktop installieren</h3>
<p>Im nächsten Schritt sollen Sie die IDE RStudio herunterladen. IDE ist die Abkürzung für integrated development environment und erleichtert die Bedienung (input und output von Informationen). RStudio stellt Ihnen alles Nötige zum Programmieren mit R in einem übersichtlichen Bildschirm bereit, um das Programmieren einfacher zu gestalten. <br> Natürlich können Sie R auch unabhängig von RStudio verwenden. Das werden wir im Rahmen dieser Übung allerdings nicht machen.</p>
<p><strong>Fangen Sie an mit:</strong></p>
<ol type="1">
<li>Gehen Sie zur Downloadseite: <a href="https://www.rstudio.com/products/rstudio/download/#download" class="uri">https://www.rstudio.com/products/rstudio/download/#download</a></li>
<li>Wählen Sie die freie Version von RStudio Desktop</li>
<li>Wählen Sie unter “All Installers” die Version aus, die zu Ihrem Betriebssystem passt (z.B. RStudio 1.4.1106 für Windows 10/8/7, oder eine entsprechend neuere Version)</li>
<li>Klicken Sie auf die heruntergeladene Datei (bspw. RStudio-1.4.1106.exe) und folgen Sie den Anweisungen (Ändern Sie die Voreinstellungen nur dann, wenn Sie wissen, was Sie tun!)</li>
<li><strong>Glückwunsch, Sie haben RStudio installiert!</strong></li>
</ol>
</section>
<section id="rstudio-oberfläche" class="level3">
<h3 class="anchored" data-anchor-id="rstudio-oberfläche">2.3 RStudio Oberfläche</h3>
<p>Beginnen wir nun mit der Nutzung von RStudio. <br> Wenn Sie RStudio durch einen “Doppelklick” öffnen, sehen Sie die Benutzeroberfläche. In diesem Fall ist diese in vier verschiedene Bereiche geteilt:</p>
<p><img src="RStudioWin.png" class="img-fluid"></p>
<ul>
<li><strong>Oben links - Editor:</strong> Hier können Sie die Codes eingeben, bearbeiten, modifizieren, umstrukturieren und schlussendlich als Skript abspeichern.</li>
<li><strong>Oben rechts - Konsole:</strong> In der Konsole müssen die Befehle am Ende eingegeben werden, damit sie auch von R gelesen werden können. Natürlich können die Codes mit einem einfachen Shortcut aus dem Editor in die Konsole überführt werden (Shortcut Mac: command-enter; Windows: control-enter).</li>
<li><strong>Unten rechts - Plots &amp; Help:</strong> Im Plot-Tab werden Ihnen Grafiken angezeigt, die Sie im Skript oder in dr Konsole erstellt haben. Unter Help können bestimmte Befehle und Funktionen “nachgeschlagen” werden, um deren Funktionsweise, Argumente und Bedeutungen aufzufrischen bzw. zu verstehen.</li>
<li><strong>Unten links - Environment &amp; History:</strong> Im Environment erhalten Sie einen Überblick über alle Ihre Objekte, die Sie abgespeichert haben. Unter History können Sie alle bisher in der Konsole ausgeführten Befehle nachlesen.</li>
</ul>
</section>
<section id="arbeitsverzeichnis" class="level3">
<h3 class="anchored" data-anchor-id="arbeitsverzeichnis">2.4 Arbeitsverzeichnis</h3>
<p>Als nächstes wollen wir das Arbeitsverzeichnis setzen. Das Arbeitsverzeichnis ist der Ordner, in dem R ausgeführt wird. Das ist relevat, da R innerhalb eines “Projekts” stets auf das gesetzte Verzeichnis zu(rück)greift, wenn Sie z.B. Datensätze laden wollen.</p>
<p>Dabei steht <code>WD</code> für das Arbeitsverzeichnis (working directory). Im Arbeitsverzeichnis werden Ihre Dateien abgespeichert und (nur) von dort können Sie ihre Dateien in R laden. <br> Das <code>WD</code> müssen Sie selbst bestimmen bzw. “setzen”. Dies machen Sie mit dem Befehl <code>setwd()</code>. In diesen Befehl setzen Sie den Pfad des Ordners ein, indem Sie zukünfitg arbeiten möchten.</p>
<p><strong>WD setzen</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/Users/MUSTERMANN/Desktop/R"</span>)  <span class="co"># (Mac)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Users/MUSTERMANN/Desktop/R"</span>) <span class="co"># (Windows)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Welches WD ist gerade gesetzt?</strong> <br> Um herauszufinden, in welchem working directory Sie sich aktuell befinden, führen Sie den Befehl <code>wd()</code> aus.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/majamurr/Desktop/KV_Hiwi/Quarto/quarto-project/websiteTest"</code></pre>
</div>
</div>
</section>
<section id="pakete" class="level3">
<h3 class="anchored" data-anchor-id="pakete">2.5 Pakete</h3>
<p>Im nächsten Schritt wollen wir uns angucken, wie man in R Pakete installiert. R bietet eine Reihe an Zusatzpaketen (~15.000), mit deren Hilfe Sie statistische Analysen besser durchführen können.</p>
<p>Um zum Beispiel das Paket <code>car</code> zu installieren, müssen Sie zuerst den Befehl <code>ìnstall.packages()</code> eingeben (Pakete müssen nur einmal installiert werden).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"car"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Um als nächstes Zugriff auf das zuvor installierte Paket zu haben, müssen Sie das Paket <code>car</code> für die Session laden. Pakete müssen für jede Session neu geladen werden. Dafür beutzen Sie den Befehl <code>library()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Lade nötiges Paket: carData</code></pre>
</div>
</div>
<p>Nach dem Laden stehen alle Funktionen von <code>car</code> zur Verfügung.</p>
</section>
</section>
<section id="erste-beispiele" class="level2">
<h2 class="anchored" data-anchor-id="erste-beispiele">3 Erste Beispiele</h2>
<p>Kommen wir nun zu den ersten Beispielen in R. <br> In R ist es möglich - sowie mit einem ganz normal Taschenrechner auch - die grundlegenden arithmetischen Operatoren und Funktionen durchzuführen. Im Folgenden sehen Sie eine Übersicht von einigen dieser Operationen.</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">Operatoren</th>
<th style="text-align: left;">Beschreibung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(+\)</span></td>
<td style="text-align: left;">Addition</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(-\)</span></td>
<td style="text-align: left;">Subtraktion</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(*\)</span></td>
<td style="text-align: left;">Multiplikation</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(/\)</span></td>
<td style="text-align: left;">Divison</td>
</tr>
<tr class="odd">
<td style="text-align: left;">^ oder <span class="math inline">\(**\)</span></td>
<td style="text-align: left;">Exponentiation</td>
</tr>
</tbody>
</table>
<section id="r-als-taschenrechner-in-der-konsole" class="level3">
<h3 class="anchored" data-anchor-id="r-als-taschenrechner-in-der-konsole">3.1 R als Taschenrechner (in der Konsole)</h3>
<p>Die Nutzung dieser Operatoren kann veranschaulicht werden, indem Sie folgende Aufgaben in die Konsole eingeben:</p>
<ul>
<li><p><code>(32 + 43) * 2</code></p></li>
<li><p><code>(1.6 / (12 + 4.32)) * 99</code></p></li>
</ul>
<p>Logischerweise herrscht auch in R “Punkt vor Strich”, weshalb z.B. die Addition von 32 und 43 im ersten Beispiel durch Klammern deutlich gemacht werden muss. Allgemeiner: Die Reihenfolge von Berechnungen muss berücksichtigt und kenntlich gemacht werden.</p>
<p>Weiterhin können Sie auch mit Dezimalzahlen arbeiten. Achten Sie darauf, dass Dezimalzahlen in R mit einem Punkt geschrieben werden (englische Schreibweise, z.B. 4.32).</p>
<p><span style="color: red;"><strong>To Do Nr. 1</strong>: Berechnen Sie die Differenz zwischen dem Jahr 2023 und dem Jahr, in dem Sie mit dem Studium angefangen haben. Dividieren Sie diesen Wert mit der Differenz zwischen dem Jahr 2023 und Ihrem Geburtsjahr. Multiplizieren Sie das Ergebnis mit 100. Was haben Sie berechnet?</span></p>
<p><strong>Beispiel:</strong></p>
<ul>
<li><code>(2023 - 2018) / (2023 - 2000) * 100</code></li>
</ul>
</section>
<section id="workspaceenvironment" class="level3">
<h3 class="anchored" data-anchor-id="workspaceenvironment">3.2 Workspace/Environment</h3>
<p>Eine weitere sehr wichtige Funktion in R ist, dass Sie Zahlen/Variablen/Funktionen/… bestimmte Namen zuweisen können. Das heißt, Sie können Objekte benennen und mit diesen später weiterarbeiten. R merkt sich diese Objekte bzw. speichert diese im Environment ab (siehe 2.3 RStudio Oberfläche).</p>
<p>Dieses Zuweisen von Namen funktioniert mit dem Operator <code>&lt;-</code>. Anstelle dieses Operators können Sie auch <code>=</code> verwenden. Beide Operatoren führen zum selben Ergebnis. <br> Die genaue Anwendung können Sie anhand des folgenden Beispiels nachvollziehen.</p>
<section id="beispiele" class="level4">
<h4 class="anchored" data-anchor-id="beispiele">Beispiele:</h4>
<p>Erstellen wir eine Variable <code>a</code> mit dem Wert 4 und geben diese anschließend aus. Die definierte Variable <code>a</code> wird nun im Environment mit ihrem dazugehörigen Wert gespeichert.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">4</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>a </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p><span style="color: darkred;"><strong>Achtung: R ist case sensitive. Das bedeutet, dass R zwischen Groß- und Kleinschreibung unterscheidet. Z.B. kennt R “A” nicht, wenn Sie bisher nur “a” definiert haben.</strong></span></p>
<p>Als nächstes können Sie die Variable nun nutzen, um Operationen durchzuführen. Das heißt, anstelle von <code>4 * 5</code> können Sie <code>a * 5</code> in R berechnen. (Dabei wird das Produkt nicht in <code>a</code> gespeichert.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">*</span> <span class="dv">5</span>   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20</code></pre>
</div>
</div>
<p>Um die Variable <code>a</code> wieder aus dem Environment/Workspace zu entfernen, kann der Befehl <code>rm()</code> (Abkürzung für remove) benutzt werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nach dem Löschen “erkennt” R die Variable <code>a</code> nicht mehr.</p>
<p>Das kann getestet werden durch ein erneutes Aufrufen von <code>a</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Als Output werden Sie hier eine Fehlermeldung erhalten (<span style="color: orange;">Error: object ‘a’ not found</span>), da dieses Objekt sich nicht mehr im Environment befindet und daher nicht mehr verwendet werden kann.</p>
</section>
</section>
<section id="skalare-vektoren-und-matrizen" class="level3">
<h3 class="anchored" data-anchor-id="skalare-vektoren-und-matrizen">3.3 Skalare, Vektoren und Matrizen</h3>
<p>Sie können allerdings nicht nur Zahlen einen Namem geben, sondern auch Vektoren und Matrizen. Beispiele könnten unter anderem sein:</p>
<p><img src="matrix.png" class="img-fluid"> Diese Beispiele können Sie auch selber einmal ausprobieren:</p>
<p><strong>Skalar</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">3</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p><strong>Vektor</strong> <br> Einen Vektor definiert man mit der <code>c()</code>-Funktion. In diese Funktionen schreiben Sie die Zahlen, aus denen R einen Vektor bilden soll. In diesem Fall sind das die Zahlen 3 bis 6.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4 5 6</code></pre>
</div>
</div>
<p>Um die Zahlenfolge nicht jedes mal ausschreiben zu müssen, können Sie auch den Operator <code>:</code> benutzen. Der Doppelpunkt zwischen zwei Zahlen signalisiert, dass R alle ganzen Zahlen berücksichtigen soll, die zwischen 3 und 6 liegen (inklusive 3 &amp; 6).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4 5 6</code></pre>
</div>
</div>
<p><strong>Matrix</strong> <br> Um eine Matrix zu definieren, verwenden Sie den Befehl <code>matrix()</code>. Die wichtigsten Argumente für diesen Befehl sind:</p>
<ul>
<li><code>data</code> = Daten/Elemente, die Matrix berücksichtigen soll</li>
<li><code>nrow</code> = Zeilenanzahl</li>
<li><code>ncol</code> = Spaltenanzahl</li>
<li><code>byrow</code> = TRUE bildet die Matrix von dem Vektor nach Zeilen <code>FALSE</code> ist vorgegeben: bildet die Matrix nach Spalten</li>
</ul>
<p>In unserem Beispiel soll die Matrix <code>c</code> alle Elemente des Vektors <code>b</code> berücksichtigen. Weiterhin setzen wir die Zeilenanzahl <code>nrow = 2</code>. Um anstelle der Zeilenanzahl die Spaltenanzahl zu definieren, müssen Sie nur das Argument <code>nrow</code> mit <code>ncol</code> austauschen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">matrix</span>(b, <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>c</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    3    5
[2,]    4    6</code></pre>
</div>
</div>
<p>Ein weiteres Argument des Matrixbefehls ist <code>byrow</code>. Ist dieser Befehl auf <code>TRUE</code> gesetzt, bildet R die Matrix nach Zeilen, andernfalls nach Spalten. Die default-Einstellung ist <code>byrow = FALSE</code>. Das bedeutet, sollten Sie dieses Argument weglassen, wird Ihre Matrix nach Spalten gebildet. <br></p>
<p>Um die Matrix nach Zeilen zu bilden, müssen Sie dieses aktiv im Befehl angeben.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(b, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    3    4
[2,]    5    6</code></pre>
</div>
</div>
</section>
<section id="funktionen" class="level3">
<h3 class="anchored" data-anchor-id="funktionen">3.4 Funktionen</h3>
<p>Weiterhin können Sie in R auf Funktionen zurückgreifen, die Ihnen die Arbeit sehr erleichtern. Funktionen in R sind festgelegte Abläufe von Handlungen und besitzen Funktionsargumente in Klammern.</p>
<p>Zum Beispiel können wir uns überlegen, wie wir den Mittelwert von dem Vektor <code>b</code> ermitteln wollen. <br> Diesen können wir zum einen “per Hand” ausrechnen, indem wir alle Elemente addieren und anschließend durch die Anzahl der Einträge dividieren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">3</span> <span class="sc">+</span> <span class="dv">4</span> <span class="sc">+</span> <span class="dv">5</span> <span class="sc">+</span> <span class="dv">6</span>) <span class="sc">/</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.5</code></pre>
</div>
</div>
<p>Zum anderen können wir auch Funktionen anwenden, die uns einen Teil der Arbeit abnehmen und die Berechnung schneller machen.</p>
<p>Um die Berechnungen im Zählers zu vereinfachen, können Sie die Funktion <code>sum()</code> benutzen. Diese summiert alle Zahlenelemente innerhalb eines Vektors auf.</p>
<p>Um die Berechungen im Nenner zu vereinfachen, können Sie die Funktion <code>length()</code> benutzen. Diese gibt einem die Länge des Vektors aus, sprich die Anzahl der Einträge in einem Vektor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(b) <span class="sc">/</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(b) <span class="sc">/</span> <span class="fu">length</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.5</code></pre>
</div>
</div>
<p><strong>Allerdings geht es noch einfacher!</strong> In R gibt es die Funktion <code>mean()</code>, welche Ihnen direkt den Mittelwert eines Vektors ausgeben kann.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.5</code></pre>
</div>
</div>
<p>Sie können sehen, alle Versionen haben den gleichen Output.</p>
<p><span style="color: red;"><strong>To Do Nr. 2</strong>: Berechnen Sie die Summe und den Mittelwert der Zahlen 1 bis 10.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)   <span class="co"># Vektor mit Zahlen 1 bis 10 definieren</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(d)         <span class="co"># die Summe berechnen</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.5</code></pre>
</div>
</div>
</section>
<section id="weitere-funktionen" class="level3">
<h3 class="anchored" data-anchor-id="weitere-funktionen">Weitere Funktionen</h3>
<p>Natürlich gibt es noch viele weitere Funktionen, die Sie z.T. im Laufe dieser Veranstaltung noch kennenlernen werden. <br> Eine davon ist die <code>rnorm()</code>-Funktion zur Erzeugung von normalverteilten Zufallszahlen (vorallem in der Markforschung sehr hilfreich!).</p>
<p>Schauen wir uns ein Beispiel an.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="dv">5</span>)  <span class="co"># erzeugt genau 5 Zufallszahlen aus der Standardnormalverteilung</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.62463646  0.05253865 -0.21859563 -2.43675358  0.08997210</code></pre>
</div>
</div>
<p>Sie können sehen, der Befehl führt dazu, dass genau fünf zufällige Zahlen aus der Standardnormalverteilung gezogen werden. Das heißt, solange Sie keine Parameter zur Ziehung der Zufallszahlen festlegen, ist die defaukt-Einstellung der Normalverteilung die Standardnormalverteilung. Diese hat einen Mittelwert = 0 und eine Standardabweichung = 1.</p>
<p>Natürlich können Sie diese Parameter als Argumente in der Funktion anpassen. Dazu können Sie folgende Argumente beeinflussen:</p>
<ul>
<li><code>n</code> = Anzahl der Zufallszahlen, die gezogen werden sollen</li>
<li><code>mean</code> = Mittelwert definieren</li>
<li><code>sd</code> = Standardabweichung definieren</li>
</ul>
<p>In dem nachstehenden Beispiel sollen 5 Zufallszahlen gezogen werden, wobei die Verteilung aus der diese Zahlen gezogen werden einen Mittelwert von 2 und eine Standardabweichung von 3 haben soll.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">mean =</span> <span class="dv">2</span>, <span class="at">sd =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2.4946372  5.1364005 -0.4380834  1.2517139  6.2062314</code></pre>
</div>
</div>
<p><strong>Achtung: Jede Ziehung erzeugt ein neues Set von Zufallszahlen!</strong></p>
</section>
<section id="plots" class="level3">
<h3 class="anchored" data-anchor-id="plots">3.5 Plots</h3>
<p>Um das Kapitel “Erste Beispiele” abzuschließen, schauen wir uns noch kurz Plots bzw. Grafiken an. Vertieft wird das Erstellen und die Nutzung von Plots in einer nachfolgenden Übung zum Thema “Deskriptive Datenanalyse”.</p>
<p>Als Grundlage des heutigen Plots definieren Sie zunächst zwei Vektoren mit jeweils 100 Zufallszahlen aus der Standardnormalverteilung. Dafür sollen Sie wieder die Funktion <code>rnorm()</code> verwenden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Diese beiden Vektoren sollen nun in einem Streudiagramm dargestellt werden. Dafür kann die <code>plot()</code>-Funktion verwendet werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x1)     <span class="co"># Streudiagramm: Werte von x1 gegen Reihenfolge (Index)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Einführung_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Dabei können die Vektoren einzeln, aber auch zusammen bzw. “gegeneinander” geplottet werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x1, x2) <span class="co"># Streudiagramm: Werte von x1 gegen x2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Einführung_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Außerdem können die Verteilungen der einzelnen Vektoren mit Hilfe eines Histograms dargestellt werden. Dafür verwenden Sie die Funktion <code>hist()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x1)     <span class="co"># Histogramm: Verteilung von x1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Einführung_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><span style="color: red;"><strong>To Do Nr. 3</strong>: Wiederholen Sie das Ganze mit 10000 Zufallszahlen.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x1)    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Einführung_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x1, x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Einführung_files/figure-html/unnamed-chunk-25-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Einführung_files/figure-html/unnamed-chunk-25-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="hilfe-und-dokumentation" class="level2">
<h2 class="anchored" data-anchor-id="hilfe-und-dokumentation">4 Hilfe und Dokumentation</h2>
<p>Wie anfangs erwähnt, können Sie die <code>help()</code>-Funktion oder das <code>help</code>-Fenster benutzen, um sich Dokumentationen oder Beschreibungen für bestimmte Funktionen ausgeben zu lassen. Dieses Tool wollen wir uns nun genauer anschauen.</p>
<p>Möglicherweise wollen Sie mehr über die <code>mean()</code>-Funktion von zuvor lernen. In diesem Fall können Sie folgenden Befehl eingeben:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(mean)     </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Daraufhin erscheint im <code>help</code>-Fenster die genaue Dokumentation. In dieser Dokumentation wird erklärt, was diese Funktion macht, welche Argumente sie besitzt, was diese Argumente bedeuten, wie sie anzuwenden sind sowie deren default-Einstellungen. Gegen Ende werden noch Beispiele gezeigt.</p>
<p>Eine Alternative zur <code>help()</code>-Funktion bietet das <code>?</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>?mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Um typische Anwendungsbeispiele von der <code>mean()</code>-Funktion zu sehen, können Sie folgenden Befehl benutzen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">example</span>(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
mean&gt; x &lt;- c(0:10, 50)

mean&gt; xm &lt;- mean(x)

mean&gt; c(xm, mean(x, trim = 0.10))
[1] 8.75 5.50</code></pre>
</div>
</div>
<p>Gerade am Anfang kann es sehr hilfreich sein, sich einen generellen Überblick über R zu verschaffen. Dies können Sie machen, indem sie <code>help.start()</code> eingeben.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help.start</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>starte den http Server für die Hilfe fertig</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Wenn der Browser '/usr/bin/open' bereits ausgeführt wird, wird er nicht
    neu gestartet, sondern Sie müssen in sein Fenster wechseln
Ansonsten: Geduld ...</code></pre>
</div>
</div>
<p><span style="color: red;"><strong>To Do Nr. 4</strong>: Schauen Sie sich die Hilfe und Anwendungsbeispiele für andere Funtktionen an, z.B. <code>sum()</code>.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(sum)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">example</span>(sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
sum&gt; ## Pass a vector to sum, and it will add the elements together.
sum&gt; sum(1:5)
[1] 15

sum&gt; ## Pass several numbers to sum, and it also adds the elements.
sum&gt; sum(1, 2, 3, 4, 5)
[1] 15

sum&gt; ## In fact, you can pass vectors into several arguments, and everything gets added.
sum&gt; sum(1:2, 3:5)
[1] 15

sum&gt; ## If there are missing values, the sum is unknown, i.e., also missing, ....
sum&gt; sum(1:5, NA)
[1] NA

sum&gt; ## ... unless  we exclude missing values explicitly:
sum&gt; sum(1:5, NA, na.rm = TRUE)
[1] 15</code></pre>
</div>
</div>
</section>
<section id="r-skripte" class="level2">
<h2 class="anchored" data-anchor-id="r-skripte">5 R-Skripte</h2>
<p>R-Skripte sind Dokumente, die Sie im Editor erstellen, bearbeiten und verwenden können. Skripte ermöglichen es Ihnen, ihre Codes zu speichern, um zu einem späteren Zeitpunkt weiter daran arbeiten zu können.</p>
<p>Weiterhin können Sie Kommentare in Ihr Skript mit einbauen. Dafür verwenden sie die <code>#</code>. Texte hinter Rauten werden auskommentiert.</p>
<p>Um Befehle oder auch Gruppen von Befehlen ausführen zu lassen, markieren Sie die entsprechenden Zeilen im Skript und drücken Sie “command + enter” für Mac bzw. “control + enter” für Windows.</p>
</section>
<section id="datenstrukturen" class="level2">
<h2 class="anchored" data-anchor-id="datenstrukturen">6 Datenstrukturen</h2>
<p>Im Folgenden wollen wir uns die grundlegenden Datenstrukturen in R anschauen. Dabei können wir u.a. vier Strukturen voneinander unterscheiden:</p>
<ul>
<li><em>Vektoren:</em> eindimensionale Datenstruktur, haben wir bereits kennengelernt</li>
<li><em>Matrizen:</em> zweidimensionale Datenstruktur</li>
<li><em>Data Frames:</em> zweidimensionale Datenstruktur, die im Gegensatz zu Matrizen aber verschiedene Skalenniveaus beinhalten kann; Ideal für ganze Datensätze</li>
<li><em>Listen:</em> dimensionslose Datenstruktur, die beliebige andere Strukturen beinhalten kann (eine Art Sammelbecken</li>
</ul>
<p>Eine hilfreiche Funktion zum Herausfinden der jeweiligen Datenstruktur ist <code>str()</code> (Abkürzung für structure). Um zu verdeutlichen, was diese Funktion genau macht, schauen wir uns ein Beispiel an. Dafür definieren wir zuerst einen Vektor mit 100 standardnormalverteilten Zufallszahlen. Diesen setzen wir anschließend in die Funktion ein.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:100] 0.707 -0.235 0.613 -1.803 0.124 ...</code></pre>
</div>
</div>
<p>Im Output können Sie sehen, dass dieser Vektor eine numerische Struktur hat (<code>num</code> für numeric). Das bedeutet, dass es in diesem Vektor ausschließlich Zahlenobjekte abgespeichert werden.</p>
<p>Im weiteren Verlauf dieser Übung werden wir uns noch weitere Datenstrukturen anschauen.</p>
<p><strong>Achtung: Matrizen können nur numerische Strukur besitzen!</strong></p>
<section id="vektoren" class="level3">
<h3 class="anchored" data-anchor-id="vektoren">6.1 Vektoren</h3>
<p>Beginnen wir mit den Vektoren.</p>
<p>Definieren Sie zunächst einen Vektor mit den fünf Zahlen: 1,4,6,8,10.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>) </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>vec1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  4  6  8 10</code></pre>
</div>
</div>
<p>Um ein bestimmtes Element des Vektors ausgeben zu lassen, müssen Sie die Position des Elements in eckigen Klammern angeben. In diesem Fall wollen wir uns das fünfte Element - Zahl = 10 - ausgeben lassen. Da wir wissen, dass die 10 an fünfter Position steht, können wir mit Hilfe der eckigen Klammern direkt auf dieses Element zugreifen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>vec1[<span class="dv">5</span>] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<p>Wollen wir allerdings Elemente in einem Vektor nachträglich verändern, müssen zwei Schritte beachtet werden:</p>
<ol type="1">
<li>Schritt: Welche Position soll nachträglich verändert werden?</li>
<li>Schritt: Wie soll dieses Element verändert werden?</li>
</ol>
<p>Um ein Element mit einem neuen Wert zu überschreiben, müssen Sie zuerst die Position im Vektor mit eckigen Klammern spezifieren. Anschließend weisen wir diesem Element einen neuen Wert zu. <br> Hier soll das dritte Element (Zahl = 6) durch die Zahl 12 ersetzt werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>vec1[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">12</span> </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>vec1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  4 12  8 10</code></pre>
</div>
</div>
<p>Ebenfalls ist es möglich, einen Vektor mit Hilfe der <code>seq()</code>-Funktion zu erstellen. Dabei wird eine Sequenz definiert, z.B. von 0 bis 1 in 0.25er Schritten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.25</span>) </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>vec2 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.00 0.25 0.50 0.75 1.00</code></pre>
</div>
</div>
<p>Abschließend ist anzumerken, dass Vektoren auch elementweise addiert werden können:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>vec1 <span class="sc">+</span> vec2 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1.00  4.25 12.50  8.75 11.00</code></pre>
</div>
</div>
</section>
<section id="matrizen" class="level3">
<h3 class="anchored" data-anchor-id="matrizen">6.2 Matrizen</h3>
<p>Kommen wir nun zu den Matrizen - den zweidimensionalen Datenstrukturen.</p>
<p>Sie wissen, dass eine Matrix mit Hilfe der <code>matrix()</code>-Funktion definiert werden kann. Dafür brauchen Sie einen Vektor als “data”-input. In diesem Fall ist das ein Vektor mit den sechs Zahlen: 9, 2, 3, 4, 5, 6. Weiterhin müssen Sie angeben, aus wie vielen Zeilen bzw. Spalten die Matrix bestehen soll.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">9</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>mat  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    9    3    5
[2,]    2    4    6</code></pre>
</div>
</div>
<p>Um uns die erste Zeile der Matrix ausgeben zu lassen, müssen wir die Position der ersten Zeile in eckigen Klammern hinter das Objekt schreiben.</p>
<p>Da es sich bei einer Matrix um eine zweidimensionale Datenstruktur handelt, müssen wir klar definieren, welche Dimensionen ausgegeben werden sollen. Dies geschieht indem wir Kommas in den eckigen Klammern setzen Dabei steht die Zahl vor dem Komma für Zeilen und die Zahl nach dem Komma für Spalten. Sollen für eine Zeile alle Spalten angezeigt werden (oder vice versa), kann die entsprechende Stelle in den eckigen Klammern einfach frei gelassen werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>mat[<span class="dv">1</span>, ] <span class="co"># Erste Zeile</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9 3 5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>mat[, <span class="dv">2</span>] <span class="co"># Zweite Spalte</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4</code></pre>
</div>
</div>
<p>Sind wir allerdings an einer bestimmten Position in der Matrix interessiert, können wir dies ebenfalls spezifizieren. Dafür müssen wir die genauen Stellen in die eckigen Klammern schreiben. Für unser Beispiel suchen wir das Element in Zeile 2 und Spalte 3.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>mat[<span class="dv">2</span>, <span class="dv">3</span>] <span class="co"># Element in Zeile 2 und Spalte 3 ausgeben</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
<section id="funktionen-matrizen" class="level4">
<h4 class="anchored" data-anchor-id="funktionen-matrizen">Funktionen &amp; Matrizen</h4>
<p>Viele Funktionen lassen sich (auch) direkt auf Matrizen anwenden. Zum Beispiel können die <code>sum()</code> und <code>mean()</code>-Funktionen direkt angewendet werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29</code></pre>
</div>
</div>
<p>Dabei bildet <code>sum()</code> die Summe aller Elemente in der Matrix während <code>mean()</code> den Mittelwert aller Einträge berechnet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(mat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.833333</code></pre>
</div>
</div>
<p><span style="color: red;"><strong>To Do Nr. 5</strong>: Erstellen Sie eine 3x3 Einheitsmatrix (d.h., die Matrix soll drei Zeilen und drei Spalten besitzen. Die Elemente bestehen in der Diagonalen aus Einsen, die Nebenelemente sind Nullen).</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>,</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>         <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>         <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    0    0
[2,]    0    1    0
[3,]    0    0    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># oder</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(<span class="dv">1</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    0    0
[2,]    0    1    0
[3,]    0    0    1</code></pre>
</div>
</div>
</section>
</section>
<section id="data-frames" class="level3">
<h3 class="anchored" data-anchor-id="data-frames">6.3 Data frames</h3>
<p>Im nächsten Schritt wollen wir uns Data frames angucken. Wie bereits erwähnt, handelt es sich dabei auch um zweidimensionale Datenstrukturen. Der Unterschied zur Matrix ist der, dass Data frames aus Vektoren mit unterschiedlichen Strukturen bestehen können.</p>
<p>Schauen wir uns dazu ein Beispiel an:</p>
<p>Mit der <code>data.frame()</code> Funktion erstellen wir den Data frame <em>df</em>, der aus drei Vektoren bestehen soll - “id”, “x” und “y”.</p>
<ul>
<li>“id” besteht aus zwei Namen (nicht zwei Zahlenwerten!! Wichtig: Namen/Text müssen in Anführungszeichen gesetzt werden.)</li>
<li>“x” &amp; “y” bestehen aus Vektoren mit Zahlenwerten</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="fu">c</span>(<span class="st">"id1"</span>, <span class="st">"id2"</span>), <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">14</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">21</span>))</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>df </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id  x  y
1 id1 11 19
2 id2 14 21</code></pre>
</div>
</div>
<p>Wollen Sie allerdings nur einen Vektor des Daten frames ausgeben lassen, gibt es verschiedene Möglichkeiten dies zu tun. <br> Die erste Variante ist der <code>$</code>-Operator. Dieser ist nützlich, falls Sie den Namen des Vektors, den wir uns ausgeben lassen wollen, wissen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>y      <span class="co"># als Vektor</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19 21</code></pre>
</div>
</div>
<p>Weiterhin können Sie sich den Vektor auch mit den eckigen Klammern ausgeben lassen - so, wie wir das bereits gelernt haben. Dafür schreiben Sie die Position des Vektors in eckigen Klammern hinter den Namen des Data frames. Da wir in unserem Fall den kompletten “y”-Vektor ausgeben lassen wollen, lassen wir die Stelle vor dem Komma (Position der Zeilen) frei und definieren nur die Position der Spalte.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>df[, <span class="dv">3</span>]   <span class="co"># als Vektor</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19 21</code></pre>
</div>
</div>
<p>Eine weitere Möglichkeit ist es, doppelte eckige Klammern zu benutzen und in Anführungszeichen den Namen des Vektors anzugeben. Dies würden Sie machen, wenn Sie als Output einen Vektor erzeugen wollen. <br> Wollen Sie stattdessen einen Data frame als Output generieren, benutzen Sie nur eine eckige Klammer mit dem Namen des Vektors in Anführungszeichen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>df[[<span class="st">"y"</span>]] <span class="co"># als Vektor</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19 21</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"y"</span>]   <span class="co"># als Data frame</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   y
1 19
2 21</code></pre>
</div>
</div>
<p>Um bestimmte Zeilen des Data frames ausgegeben zu bekommen, benutzen wir ebenfalls die eckigen Klammern. In unserem Beispiel soll die komplette zweite Zeile ausgegeben werden, weshalb die Stelle nach dem Komma frei bleibt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id  x  y
2 id2 14 21</code></pre>
</div>
</div>
<p><span style="color: red;"><strong>To Do Nr. 6</strong>: Versuchen Sie, einen Data frame mit dem Inhalt der Tabelle aus der Uebungsfolie 26 zu bauen. Der Data frame soll aus den drei Vektoren “Konsument”, “Geschlecht” und “Alter” bestehen und jeweils fünf Einträge haben.</span></p>
<ul>
<li>Konsument: 1, 2, 3, 4, 5</li>
<li>Geschlecht: “weiblich”, “weiblich”, “maennlich”, “weiblich”, “männlich”</li>
<li>Alter: 26, 34, 28, 35, 30</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Konsument =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>),</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">Geschlecht =</span> <span class="fu">c</span>(<span class="st">"weiblich"</span>, <span class="st">"weiblich"</span>, <span class="st">"maennlich"</span>,</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"weiblich"</span>, <span class="st">"maennlich"</span>),</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">Alter =</span> <span class="fu">c</span>(<span class="dv">26</span>, <span class="dv">34</span>, <span class="dv">28</span>, <span class="dv">35</span>, <span class="dv">30</span>))</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Konsument Geschlecht Alter
1         1   weiblich    26
2         2   weiblich    34
3         3  maennlich    28
4         4   weiblich    35
5         5  maennlich    30</code></pre>
</div>
</div>
<p><span style="color: darkred;"><strong>Achtung: Die Vektoren in Data frames müssen immer die selbe Länge haben, das heißt, Vektoren in einem Data frame müssen immer die selbe Anzahl an Einträgen besitzen!</strong></span></p>
</section>
<section id="listen" class="level3">
<h3 class="anchored" data-anchor-id="listen">6.4 Listen</h3>
<p>Kommen wir nun zu Listen in R. Listen haben im Vergleich zu Data frames den Vorteil, dass die Vektoren nicht die selbe Länge haben müssen. <br> Listen sind eine heterogene Ansammlung von Daten. Das bedeutet, dass Objekte von Listen beliebige und unterschieldiche Datentypen sein können.</p>
<p>Listen können mit Hilfe des Befehls <code>list()</code> erzeugt werden. In unserem Beispiel besteht die Liste aus drei Vektoren mit jeweils unterschiedlicher Länge. Der erste Vektor besteht nur aus einem Element während der dritte Vektor aus fünf Elementen besteht.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Liste mit drei Eintraegen:</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>li <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">v1 =</span> <span class="dv">1</span>, </span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">v2 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">v3 =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">length =</span> <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wenn ein bestimmter Vektor aus der Liste ausgegeben werden soll, kann dafür (wie bei einem Data frame) der <code>$</code>-Operator benutzt werden. Alternativ können auch wieder die eckigen Klammern benutzt werden - mit dem Namen des Vektors in Anführungszeichen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>li<span class="sc">$</span>v1      <span class="co"># nur 'v1' ausgeben (hier eine einzelne Zahl)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>li[[<span class="st">"v1"</span>]] <span class="co"># alternativ</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>li<span class="sc">$</span>v2      <span class="co"># nur 'v2' ausgeben (hier zwei Zahlen)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>li[[<span class="st">"v2"</span>]] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>li<span class="sc">$</span>v3      <span class="co"># nur 'v3' ausgeben (hier fuenf Zahlen)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.00 0.25 0.50 0.75 1.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>li[[<span class="st">"v3"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.00 0.25 0.50 0.75 1.00</code></pre>
</div>
</div>
<p>Weiterhin können Elemente eines bestimmten Vektors manipuliert werden. Zum Beispiel können alle Elemente des dritten Vektors “v3” mit der Zahl 10 addiert werden. Dafür können wir ebenfalls Gebrauch vom <code>$</code>-Operator machen, indem wir:</p>
<ol type="1">
<li>Mit dem Operator auf den entsprechenden Vektor zugreifen und</li>
<li>angeben, was gerechnet werden soll.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>li<span class="sc">$</span>v3 <span class="sc">+</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.00 10.25 10.50 10.75 11.00</code></pre>
</div>
</div>
</section>
</section>
<section id="daten-laden-und-speichern" class="level2">
<h2 class="anchored" data-anchor-id="daten-laden-und-speichern">7 Daten laden und speichern</h2>
<p>Kommen wir nun zu einem anderen Thema: <strong>Wie werden Daten in R geladen und gespeichert?</strong></p>
<p>Dabei kann R mit einer Vielzahl an Dateiformaten umgehen, wie z.B. ‘.csv’, ‘.pdf’, ‘.xlsl’, ‘.Rdata’ u.v.m. <br> Wir werden uns im Rahmen dieser Übung mit den Formaten ‘.Rdata’ und ‘.csv’ auseinandersetzen.</p>
<p><span style="color: orange;">Laden Sie bitte für den folgenden Verlauf der Übung die zwei Datensätze ‘age1.Rdata’ und ‘age2.csv’ aus Moodle herunter.</span></p>
<p>Diese Dateien müssen in dem Ordner gespeichert werden, in dem Sie ihr Arbeitsverzeichnis / working directory gesetzt haben.</p>
<p><em>Wie können wir nun also diese beiden Dateien in R hochladen?</em> <br> Für die ‘.Rdata’-Datei können wir ganz einfach die <code>load()</code> Funktion benutzen. Beim Hochladen von Dateien müssen Sie den Namen der Datei (inklusive Datenformat!!) immer in Anführungszeichen setzen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"age1.Rdata"</span>)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>age1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Für die ‘.csv’-Datei muss die <code>read.csv()</code> benutzt werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>age2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"age2.csv"</span>)</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>age2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Im nächsten Schritt wollen wir klären: <em>Wie können wir diese beiden Dateien jetzt auf dem Computer speichern?</em> <br></p>
<p>Für die ‘.Rdata’-Datei benutzen wir die Funktion <code>save()</code> und für die ‘.csv’-Datei die Funktion <code>write.csv()</code>. Beachten Sie bitte, dass in beiden Funktionen der Name, unter dem sie die Datei abspeichern wollen, definiert werden muss - allerdings ohne Anführungszeichen! An zweiter Stelle definieren Sie dann, welche Datei aus ihrem Environment abgespeichert werden soll - diesmal wieder mit Anführungszeichen!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(age1, <span class="at">file =</span> <span class="st">"age1.Rdata"</span>)    <span class="co"># in R Datenformat</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Als zusätzliches Argument können Sie für die ‘.csv’-Datei bestimmen, ob die Zeilennamen mit übernommen werden sollen. Falls nicht, setzen Sie das Argument <code>row.names = FALSE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(age2, <span class="at">file =</span> <span class="st">"age2.csv"</span>, <span class="co"># in csv Datenformat</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)       <span class="co"># ohne Zeilennamen</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="nas" class="level2">
<h2 class="anchored" data-anchor-id="nas">8 NAs</h2>
<p>Als nächstes beschäftigen wir uns noch mit dem Umgang von fehlenden Werten in R. Manchmal kann es vor allem bei reelen Datensätzen passieren, dass bestimmte Datenelemente nicht vorhanden sind. Diese werden Ihnen dann als <code>NA</code> (not available) angezeigt.</p>
<p><span style="color: darkred;">Das führt dann zu einem Problem!</span></p>
<p>Mit fehlenden Werten können Sie bestimmte Funktionen in R nicht mehr durchführen (z.B. <code>mean()</code>).</p>
<p>Schauen wir uns das mit Hilfe eines Beispiels genauer an. <br> Wir haben einen Vektor “x” mit der uns bekannten <code>c()</code>-Funktion definiert, allerdings fehlt das Element an dritter Stelle -&gt; <code>NA</code>. Wollen wir nun den Mittelwert berechnen, wird uns als Output <code>NA</code> angegeben, da R nicht in der Lage ist, die <code>mean()</code>-Funktion auszuführen, wenn Werte nicht vorhanden sind.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">5</span>)</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>Um dieses Problem zu umgehen, können Sie ein zusätzliches Argument in die <code>mean()</code>-Funktion eingeben: <code>na.rm = TRUE</code>. Wobei “rm” für remove steht. Setzen Sie dieses Argument auf <code>TRUE</code>, werden alle Elemente aus dem Vektor entfernt, für die keine Informationen vorhanden sind</p>
<p>In unserem Beispiel wird dementsprechend ein Element entfernt/ignoriert. Die <code>mean()</code>-Funktion berechnet mit dem Befehl <code>mean(x, na.rm = TRUE)</code> den Mittelwert aus den Zahlen 1, 3 und 5.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</section>
<section id="klassen" class="level2">
<h2 class="anchored" data-anchor-id="klassen">9 Klassen</h2>
<p>Kommen wir nun zu unserem vorletzen Thema für diese Übung: Klassen. Klassen haben wir schon kurz im Zusammenhang mit den Datenstrukturen angeschnitten.</p>
<p>Um herauszufinden, welche Datenstruktur ein bestimmter Vektor hat, benutzen wir die <code>str()</code>-Funktion. Diese ist auf jeden Datentyp anwendbar.</p>
<p>Schauen wir uns verschiedene Beispiele mit verschiedenen Vektoren an:</p>
<p>Als erstes haben wir den Vektor “n”, welcher aus den Zahlen 1.3, 0.4, und 0.0001 besteht. Wenden wir nun <code>str(n)</code> an, wird R uns ausgeben, dass es sich bei diesem Vektor um einen numerischen Vektor handelt (<strong>num = numerisch</strong>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.3</span>, <span class="fl">0.4</span>, <span class="fl">0.0001</span>)</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:3] 1.3 0.4 0.0001</code></pre>
</div>
</div>
<p>Um einen Vektor mit ganzen Zahlen zu erstellen, können wir diese Zahlen/Einträge mit einem großen <code>L</code> versehen. Dieses <code>L</code> stellt sicher, dass keine Nachkommastellen existieren.</p>
<p>Fragen wir R nun nach der Struktur dieses Vektors, bekommen wir als Output <strong>int (integer)</strong>. Integer bezieht sich immer auf Zahlen ohne Nachkommastellen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="fu">c</span>(3L, 1L, 4L)</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(i)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> int [1:3] 3 1 4</code></pre>
</div>
</div>
<p>Weiterhin können wir auch einen Vektor aus Namen bzw. Zeichen bilden. Dabei handelt es sich um einen <strong>character (chr)</strong> Vektor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>ch <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Hans"</span>, <span class="st">"Frank"</span>, <span class="st">"Julia"</span>, <span class="st">"Hans"</span>)</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(ch)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> chr [1:4] "Hans" "Frank" "Julia" "Hans"</code></pre>
</div>
</div>
<p>Dieser character-Vektor kann in einen <strong>factor</strong>-Vektor umgewandelt werden. Dafür benutzen wir die Funktion <code>factor()</code>. Zwischen die Klammern schreiben wir den Namen des Vektors, den wir umwandeln wollen.</p>
<p>Der Unterschied zum <strong>character</strong>-Vektor besteht darin, dass gleiche Einträge in einem <strong>factor</strong>-Vektor als die selbe Ausprägung gesehen wird. So werden die beiden Einträge “Hans” im <strong>character</strong>-Vektor als eigenständige Einträge betrachtet, während diese im <strong>character</strong>-Vektor als die selbe Einheit (das selbe Level) interpretiert werden.</p>
<p>Ein Faktor hat so viele Level, wie es unterschiedliche Zeichenketten gibt. In unserem Beispiel sind das drei Level.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">factor</span>(ch)</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Factor w/ 3 levels "Frank","Hans",..: 2 1 3 2</code></pre>
</div>
</div>
<p>Als letztes schauen wir uns noch den <strong>logical (logi)</strong>-Vektor an. Dabei gibt es zwei Ausprägungen: <code>TRUE</code> und <code>FALSE</code>.</p>
<p>Hier können wir R die Frage stellen, ob der Vektor “ch” gleich dem Element “Frank” ist. Dabei prüft R für jedes Element in dem Vektor, ob diese Bedingung erfüllt wird. In dem Vektor “log” wird daraufhin <code>TRUE</code> abgespeichert, wenn dies für das entsprechende Element wahr ist und <code>FALSE</code>, wenn dies nicht der Fall ist.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>log <span class="ot">&lt;-</span> ch <span class="sc">==</span> <span class="st">"Frank"</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE FALSE FALSE</code></pre>
</div>
</div>
</section>
<section id="r-programmierung" class="level2">
<h2 class="anchored" data-anchor-id="r-programmierung">10 R-Programmierung</h2>
<p>Das letzte Thema dieser Übung ist ein sehr wichtiges Thema - die R-Programmierung. Durch die R-Programmierung können Sie unter anderem <code>if</code>-Bedingungen, <code>for</code>-Loops oder auch eigene Funktionen erstellen. Und wie das geht, schauen wir uns im Folgenden genauer an!</p>
<p>### 10.1 if-Bedingung<br>
Als erstes beschäftigen wir uns mit den <code>if</code>-Bedingungen.</p>
<p><strong>Bei einer <code>if</code>-Bedingung werden bestimmte Befehle in Abhaengigkeit von dem Status einer wahr/falsch-Aussage ausgeführt.</strong> <br> Schauen wir uns ein Beispiel an: <br> Unser Ziel ist es, eine Funktion zu generieren, die testet, ob ein bestimmter Wert kleiner als 5 ist.</p>
<p>Dafür definieren wir zuerst die Variable ‘w’, welche den Wert 3 speichern soll.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>w</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Anschließend können wir unsere Funktion erstellen. Dabei machen wir die Funktion davon abhängig, ob “w kleiner ist als 5”.</p>
<ul>
<li>Stimmt diese Aussage, dann soll “w” die Zahl 2 zugeordnet werden.</li>
<li>Stimmt diese Aussage nicht, dann soll “w” die Zahl 10 zugeordnet werden.</li>
</ul>
<p>Da wir wissen, dass “w” kleiner ist als 5, sollte bei dieser Funktion “w = 5” herausgegeben werden (Das impliziert, dass die Aussage wahr ist.).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(w <span class="sc">&lt;</span> <span class="dv">5</span>) {  <span class="co"># Bedingung pruefen: Wenn ...</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> <span class="dv">2</span>     <span class="co"># Dann ...</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {     </span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> <span class="dv">10</span>    <span class="co"># Sonst ...</span></span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>}            <span class="co"># Ende</span></span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>Natürlich funktioniert das auch mit einem Vektor. Diesmal greifen wir dazu auf eine existierende Funktion in R zurück - die <code>ifelse()</code>-Funktion.</p>
<p>Die <code>ifelse()</code>-Funktion braucht als erstes Argument die Bedingung, als zweites Argument die Zahl/den Wert, die angenommen werden soll, falls die Bedingung stimmt und als drittes Argument die Zahl, die angenommen werden soll, falls die Bedingung nicht erfüllt wird.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>)</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(w <span class="sc">&lt;</span> <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">10</span>)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2 10 10</code></pre>
</div>
</div>
<p><span style="color: red;"><strong>To Do Nr. 7</strong>: Erstellen Sie für den Data frame ‘age2’ eine neue nominale Variable “unter25”, welche zeigt ob der Konsument unter 25 Jahre alt ist oder nicht.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>age2<span class="sc">$</span>unter25 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(age2<span class="sc">$</span>Alter <span class="sc">&lt;</span> <span class="dv">25</span>, <span class="st">"Ja"</span>, <span class="st">"Nein"</span>)</span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>age2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="for-schleife" class="level3">
<h3 class="anchored" data-anchor-id="for-schleife">10.2 for-Schleife</h3>
<p>Außerdem können wir uns in R noch die <code>for</code>-Schleifen anschauen. Bei einer <code>for</code>-Schleife werden bestimmte Befehle mehrfach gemäß einer Bedingung ausgeführt.</p>
<p>Schauen wir uns auch hier ein Beispiel an. <br> Dafür definieren wir zunächst die Variable ‘x’, die den Wert 1 speichern soll. Für die <code>for</code>-Schleife müssen dann folgende Schritte beachtet werden:</p>
<ol type="1">
<li>Wir müssen eine Variable/Namen bestimmen, den wir benutzen wollen, um durch die Schleife durch zu iterieren. Dabei ist es egal, wie dieser Faktor benannt wird, in unserem Fall ist dies ‘i’.</li>
<li>Es muss festgelegt werden, wie oft, durch die Schleife iteriert werden soll. Bei uns wird die Schleife zehnmal wiederholt. Dabei nimmt ‘i’ die Werte 1 bis 10 an.</li>
<li>In geschweiften Klammern muss definiert werden, was welche Funktion die Schleife erfüllen muss.</li>
</ol>
<p><strong>Was in unserer <code>for</code>-Schleife passiert:</strong> ‘i’ wird von 1 bis 10 hochgezählt und jeweils von ‘x’ abgezogen. In jedem Schritt wird ‘x’ aus der vorherigen Runde überschrieben. Dabei sollten wir zu einem Output von -54 gelangen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span> </span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">-</span> i</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>x  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -54</code></pre>
</div>
</div>
</section>
<section id="eigene-funktionen" class="level3">
<h3 class="anchored" data-anchor-id="eigene-funktionen">10.3 Eigene Funktionen</h3>
<p>Zum Schluss wollen wir uns noch kurz das Erstellen von eigenen Funktionen anschauen. In R ist es nicht nur möglich, Gebrauch von den unzähligen “fertigen” Funktionen zu machen, sondern wir können auch selber eine auf unser Problem zugeschnitte Funktion definieren und verwenden.</p>
<p>In unserem Beispiel wollen wir eine Funktion erstellen, die die <em>mittlere absolute Abweichung (MAD)</em> für uns berechnet. Die Funktion ist wie folgt definiert: <span class="math display">\[ MAD = \frac{1}{n} \sum_{i = 0}^{n}{(|x_i - y_i|)}\]</span> <em>In Worten:</em> Wir berechnen die absolute Differenz zwischen zwei Variablen ‘x’ und ‘y’ für jeden ihrer Einträge aus und summieren diese aus. Anschließend dividieren die Summe durch die Anzahl der Einträge ‘n’.</p>
<p><em>In R:</em> Um die MAD-Funktion zu erstellen benutzen wir den Befehl <code>function()</code>. Dafür schreiben wir in die runden Klammern die Namen der Variablen, die diese Funktion haben soll. <br> Daraufhin werden geschweifte Klammern geöfnnet, in welchen nun die Befehle zum Berechnen der MAD definiert werden sollen. <br> Dafür benutzen wir zwei exisiterende Funktionen. Die innere Funktion <code>abs()</code> kalkuliert die absoluten Differenzen von ‘x’ und ‘y’, während die äußere <code>mean()</code>-Funktion den Mittelwert über diese Differenzen bildet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>mad <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) { <span class="co"># 2 Argumente: x und y</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(<span class="fu">abs</span>(x <span class="sc">-</span> y))      <span class="co"># abs und mean werden kombiniert </span></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># abs() - berechnet den absoluten Wert</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wollen wir nun die MAD zwischen zwei speziellen Vektoren ausrechnen, können wir diese in den runden Klammern der Funktion definieren und laufen lassen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mad</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.666667</code></pre>
</div>
</div>
</section>
<section id="geschafft" class="level3">
<h3 class="anchored" data-anchor-id="geschafft">Geschafft! :)</h3>
<p>Damit sind wir nun am Ende der ersten Übung angelangt. Vielen Dank für Ihre Aufmerksamkeit.</p>
<p>Zum Vertiefen der soeben gelernten Informationen finden Sie auf Moodle eine Hausaufgabe. Diese soll Sie nochmal dazu anregen, sich mit Matritzen und Data frames in R auseinanderzusetzen.</p>
<p>Die Lösungen werden ebenfalls hochgeladen werden. Trotzdem bitte ich Sie, sich erstmal selbstständig mit diesen Aufgaben auseinanderzusetzen.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>